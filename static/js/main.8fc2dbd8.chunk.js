(this["webpackJsonpimport-java-classes-component-showcase"]=this["webpackJsonpimport-java-classes-component-showcase"]||[]).push([[0],{144:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var s=a(7),n=(a(139),a(0)),o=a(31),c=a.n(o),i=(a(144),a(94)),l=a(114),r=Object(i.a)(Object(i.a)({},l.en),{},{modalButton:{text:"Import Java classes"},modalWizard:{title:"Import Java classes",description:"It converts your Java assets to DMN types. This is a one-time import action: if the Java class get updated, you will need to reimport it",firstStep:{stepName:"Select Java classes",input:{title:"Search:",placeholder:"Search a class name ..."},emptyState:{title:"No Java classes selected",body:"Type the Java class name or part of the name to find the one you want to import"}},secondStep:{stepName:"Select fields"},thirdStep:{stepName:"Review",nextButtonText:"Import"}}}),d={locale:"en",dictionary:r},u=new Map([["en",r]]),b=n.createContext({});function j(){return Object(n.useContext)(b)}var p=a(115),m=a(44),h=a(96),O=a(274),v=a(4),x=function(e){var t=e.buttonText,a=e.buttonStyle,o=e.buttonIcon,c=e.buttonDisabledStatus,i=e.buttonTooltipMessage,l=e.wizardTitle,r=e.wizardDescription,d=e.wizardSteps,u=Object(n.useState)(!1),b=Object(s.a)(u,2),j=b[0],p=b[1],x=Object(n.useCallback)((function(){return p(!j)}),[j]),S=function(){return Object(v.jsx)(m.a,{variant:a,icon:o,onClick:x,isDisabled:c,"data-testid":"modal-wizard-button",children:t})},f=function(){return Object(v.jsx)(h.a,{content:i,children:Object(v.jsx)(m.a,{variant:a,icon:o,onClick:x,isAriaDisabled:c,"data-testid":"modal-wizard-button",children:t})})};return Object(v.jsxs)(v.Fragment,{children:[i?Object(v.jsx)(f,{}):Object(v.jsx)(S,{}),Object(v.jsx)(O.a,{title:l,description:r,steps:d,onClose:x,isOpen:j})]})},S=a(264),f=a(275),g=a(129),w=a.n(g),C=a(265),k=a(266),y=a(267),J=function(e){var t=e.emptyStateIcon,a=e.emptyStateTitleHeading,s=e.emptyStateTitleSize,n=e.emptyStateTitleText,o=e.emptyStateBodyText;return Object(v.jsxs)(C.a,{children:[Object(v.jsx)(k.a,{icon:t}),Object(v.jsx)(S.a,{headingLevel:a,size:s,children:n}),Object(v.jsx)(y.a,{children:o})]})},T=a(77),z=a(276),M=a(268),B=a(269),I=a(270),N=function(e){var t=e.fullClassName,a=e.selected,o=e.onJavaClassItemSelected,c=Object(n.useState)(a),i=Object(s.a)(c,2),l=i[0],r=i[1],d=Object(n.useCallback)((function(){o(t,!l),r(!l)}),[t,l,o]);return Object(v.jsx)(z.a,{name:t,children:Object(v.jsxs)(M.a,{children:[Object(v.jsx)(B.a,{"aria-labelledby":t,checked:l,onChange:d}),Object(v.jsx)(I.a,{children:Object(v.jsx)("span",{id:t,children:t})})]})})},D=function(e){var t=e.selectedJavaClasses,a=e.retrievedJavaClasses,s=e.onJavaClassItemSelected,n=new Set(t);return Object(v.jsxs)(T.a,{"aria-label":"class-data-list",isCompact:!0,children:[t.map((function(e){return Object(v.jsx)(N,{fullClassName:e,selected:!0,onJavaClassItemSelected:s},e)})),a.map((function(e){if(!n.has(e))return Object(v.jsx)(N,{fullClassName:e,selected:!1,onJavaClassItemSelected:s},e)}))]})},W=function(e){var t=e.selectedJavaClasses,a=e.onSelectedJavaClassesUpdated,o=j().i18n,c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],r=i[1],d=Object(n.useState)([]),u=Object(s.a)(d,2),b=u[0],p=u[1],m=Object(n.useCallback)((function(e){return h(e)}),[]),h=function(e){r(e);var t=window.envelopeMock.lspGetClassServiceMocked(e);t&&p(t)},O=function(){return Object(v.jsx)(J,{emptyStateIcon:w.a,emptyStateTitleHeading:"h6",emptyStateTitleSize:"md",emptyStateTitleText:o.modalWizard.firstStep.emptyState.title,emptyStateBodyText:o.modalWizard.firstStep.emptyState.body})};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S.a,{headingLevel:"h6",size:"md",children:o.modalWizard.firstStep.input.title}),Object(v.jsx)(f.a,{placeholder:o.modalWizard.firstStep.input.placeholder,value:l,onChange:m,onClear:function(){return m("")},autoFocus:!0}),b.length>0||t.length>0?Object(v.jsx)(D,{selectedJavaClasses:t,retrievedJavaClasses:b,onJavaClassItemSelected:a}):Object(v.jsx)(O,{})]})},E=a(136),F=a(277),A=a(271),G=a(272),L=a(273),P=function(e){var t=e.selectedJavaClasses,a=new Map,o=Object(n.useState)(a),c=Object(s.a)(o,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){return t.forEach((function(e){return function(e){var t=window.envelopeMock.lspGetClassFieldsServiceMocked(e);t&&l((function(a){var s=new Map(a);return s.set(e,t),s}))}(e)}))}),[t]),Object(v.jsx)(v.Fragment,{children:i.size!=t.length?Object(v.jsx)(E.a,{isSVG:!0,diameter:"80px"}):Object(v.jsx)(F.a,{"aria-label":"field-table",variant:"compact",children:Object(v.jsx)(A.a,{children:t.map((function(e,t){return Object(v.jsx)(G.a,{children:Object(v.jsx)(L.a,{children:e.split(".").pop()+" ("+e+")"},"".concat(t,"_").concat(e))},t)}))})})})},U=function(e){var t=e.buttonDisabledStatus,a=e.buttonTooltipMessage,o=j().i18n,c=Object(n.useState)([]),i=Object(s.a)(c,2),l=i[0],r=i[1],d=[{name:o.modalWizard.firstStep.stepName,component:Object(v.jsx)(W,{selectedJavaClasses:l,onSelectedJavaClassesUpdated:function(e,t){if(t){var a=new Set(l);a.add(e),r(Array.from(a))}else{var s=new Set(l);s.delete(e),r(Array.from(s))}}}),enableNext:l.length>0,canJumpTo:!0,hideBackButton:!0},{name:o.modalWizard.secondStep.stepName,component:Object(v.jsx)(P,{selectedJavaClasses:l}),enableNext:!1,canJumpTo:l.length>0},{name:o.modalWizard.thirdStep.stepName,component:Object(v.jsx)("p",{children:"Step 3 content"}),enableNext:!1,canJumpTo:!1}];return Object(v.jsx)(x,{buttonStyle:"secondary",buttonText:o.modalButton.text,buttonDisabledStatus:t,buttonTooltipMessage:a,wizardTitle:o.modalWizard.title,wizardDescription:o.modalWizard.description,wizardSteps:d})},H=function(e){var t=e.buttonDisabledStatus,a=e.buttonTooltipMessage;return Object(v.jsx)(p.I18nDictionariesProvider,{defaults:d,dictionaries:u,initialLocale:navigator.language,ctx:b,children:Object(v.jsx)(U,{buttonDisabledStatus:t,buttonTooltipMessage:a})})};window.renderImportJavaClasses=function(e,t,a){o.render(Object(v.jsx)(H,{buttonDisabledStatus:t,buttonTooltipMessage:a}),document.getElementById(e))};var R=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)("Java LSP Server is not available. Please install Java Extension"),i=Object(s.a)(c,2),l=i[0],r=i[1],d=Object(n.useCallback)((function(e){return o("true"===e.target.value)}),[]),u=Object(n.useCallback)((function(e){return r(e.target.value)}),[]);return window.envelopeMock={lspGetClassServiceMocked:function(e){return function(e){return"Boo"===e?["org.kie.test.kogito.Book","org.kie.test.kogito.Boom"]:"Book"===e?["org.kie.test.kogito.Book"]:"Boom"===e?["org.kie.test.kogito.Boom"]:[]}(e)},lspGetClassFieldsServiceMocked:function(e){return function(e){var t=new Map;t.set("author","string"),t.set("title","string"),t.set("year","integer");var a=new Map;return a.set("time","date"),a.set("big","boolean"),"org.kie.test.kogito.Book"===e?t:"org.kie.test.kogito.Boom"===e?a:new Map}(e)}},Object(v.jsxs)("div",{className:"showcase",children:[Object(v.jsxs)("p",{children:["This showcase demonstrates how the ",Object(v.jsx)("strong",{children:"Import Java Classes"})," component works. Adding the component to the DOM, will result to render a Button with ",Object(v.jsx)("em",{children:"Import Java Classes"})," label. As default status, the button is disabled with a tooltip reporting the reason. Using the above menu, you can modify the button status and the related tooltip message."]}),Object(v.jsxs)("p",{children:["To simulate the searching of a Java Classes on the Search box inside the wizard, please use values:",Object(v.jsx)("em",{children:"Boo"}),", ",Object(v.jsx)("em",{children:"Boom"})," or ",Object(v.jsx)("em",{children:"Book"})," as key, which are mocked in this showcase to demonstrate the component usage."]}),Object(v.jsxs)("div",{className:"menu",children:[Object(v.jsx)("strong",{children:"Import Java classes button state"}),Object(v.jsxs)("select",{onChange:d,children:[Object(v.jsx)("option",{value:"true",children:"Disabled"}),Object(v.jsx)("option",{value:"false",children:"Enabled"})]}),Object(v.jsx)("strong",{children:"Tooltip Message (Optional)"}),Object(v.jsx)("input",{value:l,onChange:u})]}),Object(v.jsx)("div",{className:"import-java-classes",children:Object(v.jsx)(H,{buttonDisabledStatus:a,buttonTooltipMessage:l})})]})};c.a.render(Object(v.jsx)(R,{}),document.getElementById("root"))}},[[249,1,2]]]);
//# sourceMappingURL=main.8fc2dbd8.chunk.js.map